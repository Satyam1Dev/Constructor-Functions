<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Document</title>
    <style>
        body{
            margin: 100px;

        }
        img {
    width: 300px;
    height: 200px;
}
.product {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
}
a {
    text-decoration: none;
    background-color: black;
    color: white;
    padding: 10px;
    border-radius: 8px;
}
button {
    padding: 10px;
    margin: 5px;
    background-color: black;
    color: white;
    border-radius: 8px;
}
div#counter {
    margin-top: 15px;
    margin-bottom: 15px;
}

    </style>
    <a href="index.html">GO to Adimin Dshboard</a>
</head>
<body>
    <div id="counter"></div>
    <div class="product"> </div>
  
</body>
</html>

<script>
    let product = JSON.parse(localStorage.getItem("Products")) || [];
    var length = product.length;
    document.getElementById("counter").textContent = `Total Number of Products are ${length}`;
    product.map(function (el,index) {
        var box = document.createElement("div");
       

        var img = document.createElement("img");
        img.src = el.imageUrl;

        var name = document.createElement("p");
        // name.setAttribute("class", "name")
        name.textContent = el.name;

        var category = document.createElement("p");
        category.textContent = `Category: ${el.category}`;

        var price = document.createElement("p");
        price.textContent = `Price: $${el.price}`;
        price.style.fontWeight = "bold"

        var btnBox = document.createElement("div");
        btnBox.setAttribute("class", "btnBox");

        var removebtn = document.createElement("button");
        // removebtn.setAttribute("id", "remove");
        removebtn.textContent = "Remove";
        removebtn.addEventListener("click", function () {
            removeItem(el,index);
        })

        var soldbtn = document.createElement("button");
        soldbtn.setAttribute("id", "sold");
        soldbtn.textContent = "Sold";
        soldbtn.addEventListener("click", function () {
            changeSoldValue(el);
        })
        if(el.sold == "true"){
            sold.style.backgroundColor = "green";
        }else if(el.sold == "false"){
            soldbtn.style.backgroundColor = "red";
        }

        btnBox.append(removebtn, soldbtn);

        box.append(img, name, category, price, btnBox);

        document.querySelector(".product").append(box);
    });

    var btn = document.getElementById("sold");
    console.log(btn.value)

    function removeItem(el, index) {
        // console.log(el);
       
        product.splice(index, 1);
        localStorage.setItem("Products", JSON.stringify(product));
        window.location.reload();
    }
    function changeSoldValue(el, index) {
        // console.log(el);
        if (el.sold == "false") {
            el.sold = "false";
        } else if (el.sold == "true") {
            el.sold = "true";
        }
        localStorage.setItem("Products", JSON.stringify(product));
        window.location.reload();
    }
</script>